function displaySucessPercent(){percent=floor(100*getSucessPrecent()),guess_txt.innerHTML=`Success <orangebg> ${percent}% </orangebg>`,console.log(percent+"%")}const displayGuess=()=>{guess().html_txt&&(guess_txt.innerHTML=guess().html_txt)},clearDisplayedGuess=()=>guess_txt.innerHTML="...",clearCanvas=()=>background(255);function clearAll(){clearDisplayedGuess(),clearCanvas()}function prepareData(e,t,n){e.training=[],e.testing=[];for(let a=0;a<total_data;a++){let s=a*len,r=floor(.8*total_data);a<r?(e.training[a]=t.bytes.subarray(s,s+len),e.training[a].label=n):(e.testing[a-r]=t.bytes.subarray(s,s+len),e.testing[a-r].label=n)}}function prepareDatas(){for(let e of Object.keys(models))prepareData(models[e].data_models,models[e].data,indexs[e])}function train(e){const t=Date.now();shuffle(e,!0);for(let t=0;t<e.length;t++){let a=[];a=e[t].map(e=>e/255);var n=[0,0,0];n[e[t].label]=1,brain.train(a,n)}return Date.now()-t}function repeat_train(e,t){const n=Date.now();for(let n=0;n<t;n++)train(e);return Date.now()-n}function test(e){let t=0,n=0;for(let l=0;l<e.length;l++){let o=e[l].map(e=>e/255);var a=e[l].label,s=brain.predict(o),r=max(s);s.indexOf(r)==a&&t++,n=t/e.length}return n}const getSucessPrecent=()=>test(all_testing_data);function guess(){var e="...",t="I don't know, maybe It is a ";let n=[];const a=get();a.resize(28,28),a.loadPixels();for(let e=0;e<len;e++){const t=a.pixels[4*e];n[e]=(255-t)/255}if(array_elements(n,0))return guess_txt.innerHTML="You didn't draw any thing !","You didn't draw any thing !";e=brain.predict(n);var s=max(e),r=e.indexOf(s);return console.log(100*s+"%"),labels[r]&&(e=labels[r]),t=s>=.5?"I'am sure It is an":"May be It is a",percent<.5&&(t="I am confuse, did you draw a"),{txt:`${t} ${e}`,html_txt:`${t} <orangebg> ${e} </orangebg>`,percent_txt:t,guess:e}}function drawing(){strokeWeight(8),stroke(0),line(pmouseX,pmouseY,mouseX,mouseY)}function sleep(e){const t=Date.now();let n=null;do{n=Date.now()}while(n-t<e)}function draw_doodles(e){for(let n=0;n<100;n++){let a=createImage(28,28),s=n*len;a.loadPixels();for(let n=0;n<784;n++){var t=255-e.bytes[n+s];a.pixels[4*n+0]=t,a.pixels[4*n+1]=t,a.pixels[4*n+2]=t,a.pixels[4*n+3]=255}a.updatePixels();let r=n%10*28,l=28*floor(n/10);image(a,r,l)}}function get_bytes(e){var t=[];for(let a=0;a<100;a++){let s=784*a;createImage(28,28).loadPixels();for(let a=0;a<784;a++){var n=255-e.bytes[a+s];t.push(n)}}return t}